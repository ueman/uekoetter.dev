<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Improving the little things</title><meta name=description content><meta name=author content="Jonas Uek√∂tter"><link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;700&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css integrity=sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2 crossorigin=anonymous><link rel=stylesheet href=/sass/researcher.min.css><link rel=icon type=image/ico href=https://uekoetter.dev/favicon.ico><meta property="og:title" content="Improving the little things"><meta property="og:description" content="Improving the little things In this blog post you&rsquo;ll learn which small changes you can do for your app, in order to create a better experience for your users. We&rsquo;re focussing on Flutter apps for Android and iOS.
Acoustic and haptic feedback for a better UX Flutter has various APIs to enrich the UX with haptic or audio feedback.
The first API is HapticFeedback. It vibrates the device according to the method names."><meta property="og:type" content="article"><meta property="og:url" content="http://uekoetter.dev/blog/little-things/"><meta property="og:image" content="http://uekoetter.dev/meta_image.png"><meta property="article:section" content="blog"><meta property="article:published_time" content="2023-03-11T10:00:00+02:00"><meta property="article:modified_time" content="2023-03-11T10:00:00+02:00"><meta property="og:site_name" content="Jonas Uek√∂tter"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://uekoetter.dev/meta_image.png"><meta name=twitter:title content="Improving the little things"><meta name=twitter:description content="Improving the little things In this blog post you&rsquo;ll learn which small changes you can do for your app, in order to create a better experience for your users. We&rsquo;re focussing on Flutter apps for Android and iOS.
Acoustic and haptic feedback for a better UX Flutter has various APIs to enrich the UX with haptic or audio feedback.
The first API is HapticFeedback. It vibrates the device according to the method names."><script async src="https://www.googletagmanager.com/gtag/js?id=G-6ZMR66DN77"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-6ZMR66DN77")</script></head><body><div class="container mt-5"><nav class="navbar navbar-expand-sm flex-column flex-sm-row text-nowrap p-0"><a class="navbar-brand mx-0 mr-sm-auto" href=http://uekoetter.dev/>Jonas</a><div class="navbar-nav flex-row flex-wrap justify-content-center"><a class="nav-item nav-link" href=/donate>‚ù§Ô∏è Donate</a>
<span class="nav-item navbar-text mx-1">/</span>
<a class="nav-item nav-link" href=/blog>üìù Blog</a>
<span class="nav-item navbar-text mx-1">/</span>
<a class="nav-item nav-link" href=/dashboard>üì¶ OSS</a></div></nav></div><div align=right class=container><a class=nav-link href=https://github.com/ueman style=display:inline><svg height="1em" viewBox="0 0 16 16" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38.0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95.0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12.0.0.67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15.0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48.0 1.07-.01 1.93-.01 2.2.0.21.15.46.55.38A8.013 8.013.0 0016 8c0-4.42-3.58-8-8-8z"/></svg>GitHub</a>
<a class=nav-link href=https://twitter.com/@ue_man style=display:inline><svg viewBox="0 0 300.00006 244.18703" height="1em"><defs id="defs3628"/><g transform="translate(-539.17946,-568.85777)" id="layer1"><path id="path3611" style="fill:#1da1f2;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m633.89823 812.04479c112.46038.0 173.95627-93.16765 173.95627-173.95625.0-2.64628-.0539-5.28062-.1726-7.90305 11.93799-8.63016 22.31446-19.39999 30.49762-31.65984-10.95459 4.86937-22.74358 8.14741-35.11071 9.62551 12.62341-7.56929 22.31446-19.54304 26.88583-33.81739-11.81284 7.00307-24.89517 12.09297-38.82383 14.84055-11.15723-11.88436-27.04079-19.31655-44.62892-19.31655-33.76374.0-61.14426 27.38052-61.14426 61.13233.0 4.79784.5364 9.46458 1.58538 13.94057-50.81546-2.55686-95.87353-26.88582-126.02546-63.87991-5.25082 9.03545-8.27852 19.53111-8.27852 30.73006.0 21.21186 10.79366 39.93837 27.20766 50.89296-10.03077-.30992-19.45363-3.06348-27.69044-7.64676-.009.25652-.009.50661-.009.78077.0 29.60957 21.07478 54.3319 49.0513 59.93435-5.13757 1.40062-10.54335 2.15158-16.12196 2.15158-3.93364.0-7.76596-.38716-11.49099-1.1026 7.78383 24.2932 30.35457 41.97073 57.11525 42.46543-20.92578 16.40207-47.28712 26.17062-75.93712 26.17062-4.92898.0-9.79834-.28036-14.58427-.84634 27.05868 17.34379 59.18936 27.46396 93.72193 27.46396"/></g></svg>Twitter</a></div><hr><div id=content><div class=container><h1 id=improving-the-little-things>Improving the little things</h1><p>In this blog post you&rsquo;ll learn which small changes you can do for your app, in order to create a better experience for your users.
We&rsquo;re focussing on Flutter apps for Android and iOS.</p><h2 id=acoustic-and-haptic-feedback-for-a-better-ux>Acoustic and haptic feedback for a better UX</h2><p>Flutter has various APIs to enrich the UX with haptic or audio feedback.</p><p>The first API is <a href=https://api.flutter.dev/flutter/services/HapticFeedback-class.html>HapticFeedback</a>. It vibrates the device according to the method names.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span>HapticFeedback.lightImpact();
</span></span><span style=display:flex><span>HapticFeedback.mediumImpact();
</span></span><span style=display:flex><span>HapticFeedback.heavyImpact();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>HapticFeedback.selectionClick();
</span></span><span style=display:flex><span>HapticFeedback.vibrate();
</span></span></code></pre></div><p>See for example this tweet as an example</p><blockquote class=twitter-tweet data-dnt=true><p lang=en dir=ltr>At <a href="https://twitter.com/visible_health?ref_src=twsrc%5Etfw">@visible_health</a> we also have this little tooltip when dragging across the bars in the plot which has very light haptic feedback on each entry, feels kinda nice <a href=https://t.co/SbzH1FlaGt>pic.twitter.com/SbzH1FlaGt</a></p>&mdash; Dominik Roszkowski (@OrestesGaolin) <a href="https://twitter.com/OrestesGaolin/status/1632720877841178625?ref_src=twsrc%5Etfw">March 6, 2023</a></blockquote><script async src=https://platform.twitter.com/widgets.js></script><p>Then there&rsquo;s the <a href=https://api.flutter.dev/flutter/services/SystemSoundType.html>SystemSound</a> API. It adds acoustic feedback. Please be aware that it&rsquo;s just partly supported depending on the platform.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#75715e>// SystemSoundType.alert is only supported on desktop platforms
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>SystemSound.play(SystemSoundType.alert);
</span></span><span style=display:flex><span>SystemSound.play(SystemSoundType.click);
</span></span></code></pre></div><p>The <a href=https://api.flutter.dev/flutter/material/Feedback-class.html>Feedback API</a> is for adding feedback which is also usable for accessibility concerns.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>WidgetWithWrappedHandler</span> <span style=color:#66d9ef>extends</span> StatelessWidget {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> WidgetWithWrappedHandler({<span style=color:#66d9ef>super</span>.key});
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#960050;background-color:#1e0010>@</span>override
</span></span><span style=display:flex><span>  Widget build(BuildContext context) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> GestureDetector(
</span></span><span style=display:flex><span>      onTap: Feedback.wrapForTap(_onTapHandler, context),
</span></span><span style=display:flex><span>      onLongPress: Feedback.wrapForLongPress(_onLongPressHandler, context),
</span></span><span style=display:flex><span>      child: <span style=color:#66d9ef>const</span> Text(<span style=color:#e6db74>&#39;X&#39;</span>),
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>void</span> _onTapHandler() {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Respond to tap.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>void</span> _onLongPressHandler() {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Respond to long press.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=edge-to-edge-mode-android>Edge to edge mode (Android)</h2><p>The first tip is to enable the so-called edge to edge mode for Android.</p><table><thead><tr><th style=text-align:center>before</th><th style=text-align:center>after</th></tr></thead><tbody><tr><td style=text-align:center><img src=e2e-before.png alt></td><td style=text-align:center><img src=e2e-after.png alt></td></tr></tbody></table><p>As you can see in the before screenshot, the app has an iOS-like swipe indicator on a black bar.
By enabling the edge to edge mode, we also show content behind this indicator.
In order to do this you just change your code from</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#66d9ef>void</span> main() {
</span></span><span style=display:flex><span>  runApp(<span style=color:#66d9ef>const</span> MyApp());
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>to the following code</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span>Future<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>void</span><span style=color:#f92672>&gt;</span> main() <span style=color:#66d9ef>async</span> {
</span></span><span style=display:flex><span>  WidgetsFlutterBinding.ensureInitialized();
</span></span><span style=display:flex><span>  SystemChrome.setSystemUIOverlayStyle(
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> SystemUiOverlayStyle(systemNavigationBarColor: Colors.transparent),
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>await</span> SystemChrome.setEnabledSystemUIMode(SystemUiMode.edgeToEdge);
</span></span><span style=display:flex><span>  runApp(<span style=color:#66d9ef>const</span> MyApp());
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>This should be a painless migration, because your code should already be properly adapted to this, since it&rsquo;s the default behavior on newer iOS devices.</p><p>Please be aware though, that this might cause issues on older Android versions. There&rsquo;s also a <a href=https://github.com/flutter/flutter/issues/86248>Flutter issue</a> to make this the default behavior for newly generated Flutter versions.</p><h2 id=high-refresh-rate-android>High refresh rate (Android)</h2><p>Flutter apps are making use of high refresh rates by default on iOS. On Android, however, it isn&rsquo;t that easy. Different manufactures mess with the system and can disable the automatic enabling of high refresh rate.
One Plus, Oppo and Nothing for example do this. Xiaomi doesn&rsquo;t.
You can force a high refresh rates to a certain degree by using <a href=https://pub.dev/packages/flutter_displaymode>display_mode</a>.</p><p>Add the package as a dependency and change your code from</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span><span style=color:#66d9ef>void</span> main() {
</span></span><span style=display:flex><span>  runApp(<span style=color:#66d9ef>const</span> MyApp());
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>to the following code</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dart data-lang=dart><span style=display:flex><span>Future<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>void</span><span style=color:#f92672>&gt;</span> main() <span style=color:#66d9ef>async</span> {
</span></span><span style=display:flex><span>  WidgetsFlutterBinding.ensureInitialized();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>await</span> FlutterDisplayMode.setHighRefreshRate();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  runApp(<span style=color:#66d9ef>const</span> MyApp());
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Congratulations, your app runs now at a high refresh rate in most cases.</p><p>I hope this was insightful for you!</p><p>You can follow me on <a href=https://twitter.com/ue_man>Twitter</a> and <a href=https://github.com/ueman>GitHub</a>.</p></div></div><div id=footer class=mb-5><hr><div class="container text-center"><a href=http://uekoetter.dev/><small>¬© 2021</small></a></div></div></body></html>